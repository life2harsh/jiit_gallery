<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JIIT Campus Gallery</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0a0f;
            color: #ffffff;
            overflow-x: hidden;
            min-height: 100vh;
        }

        .sort-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
            padding: 1rem;
            flex-wrap: wrap;
        }

        .sort-label {
            color: #d0d0d0;
            font-weight: 500;
            margin-right: 0.5rem;
        }

        .sort-button {
            background: rgba(15, 15, 25, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 20px;
            color: #ffffff;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .sort-button:hover {
            border-color: rgba(99, 102, 241, 0.5);
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.2);
            transform: translateY(-2px);
        }

        .sort-button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: rgba(99, 102, 241, 0.7);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        @media (max-width: 768px) {
            .sort-controls {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .sort-buttons {
                display: flex;
                flex-wrap: wrap;
                gap: 0.5rem;
                justify-content: center;
            }
        }

        .constellation-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .star {
            position: absolute;
            background: #ffffff;
            border-radius: 50%;
            opacity: 0.8;
            animation: twinkle 3s infinite ease-in-out;
        }

        .line {
            position: absolute;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.3), transparent);
            height: 1px;
            transform-origin: left;
            animation: pulse 4s infinite ease-in-out;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 0.6; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem 0;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .header p {
            font-size: 1.2rem;
            color: #a0a0a0;
            max-width: 600px;
            margin: 0 auto;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease;
        }

        .modal.show {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            position: relative;
            max-width: 90vw;
            max-height: 90vh;
            margin: 5vh auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 15px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 30px;
            color: #fff;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            z-index: 1001;
            background: rgba(0, 0, 0, 0.5);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: #fff;
            font-size: 30px;
            font-weight: bold;
            cursor: pointer;
            background: rgba(0, 0, 0, 0.5);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            user-select: none;
        }

        .modal-nav:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-50%) scale(1.1);
        }

        .modal-nav.prev {
            left: 30px;
        }

        .modal-nav.next {
            right: 30px;
        }

        .modal-info {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            padding: 1rem 2rem;
            border-radius: 15px;
            text-align: center;
            max-width: 80%;
            backdrop-filter: blur(10px);
        }

        .modal-tag {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: inline-block;
        }

        .modal-description {
            color: #d0d0d0;
            font-size: 0.9rem;
        }

        .modal-counter {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .image-card {
            background: rgba(15, 15, 25, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .image-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.5), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .image-card:hover {
            transform: translateY(-5px);
            border-color: rgba(99, 102, 241, 0.4);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
        }

        .image-card:hover::before {
            opacity: 1;
        }

        .image-container {
            position: relative;
            width: 100%;
            height: 250px;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 1rem;
            background: rgba(20, 20, 30, 0.5);
            cursor: pointer;
        }

        .image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .image-card:hover .image-container img {
            transform: scale(1.05);
        }

        .image-tag {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .image-description {
            color: #d0d0d0;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .no-images {
            text-align: center;
            padding: 4rem 2rem;
            color: #666;
            font-size: 1.1rem;
        }

        .loading-spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 1rem;
            }
            
            .gallery {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .modal-nav {
                width: 50px;
                height: 50px;
                font-size: 24px;
            }

            .modal-nav.prev {
                left: 15px;
            }

            .modal-nav.next {
                right: 15px;
            }

            .modal-close {
                top: 15px;
                right: 15px;
                width: 40px;
                height: 40px;
                font-size: 30px;
            }
        }
    </style>
</head>
<body>
    <div class="constellation-bg" id="constellation"></div>
    
    <div class="container">
        <div class="header">
            <h1>JIIT Campus Gallery</h1>
            <p></p>
        </div>
        <div class="sort-controls">
            <span class="sort-label">Sort by:</span>
            <div class="sort-buttons">
                <button class="sort-button active" onclick="sortByTag('all', this)">All</button>
                <button class="sort-button" onclick="sortByTag('Cafeteria', this)">Cafeteria</button>
                <button class="sort-button" onclick="sortByTag('Library(LRC)', this)">Library</button>
                <button class="sort-button" onclick="sortByTag('Classrooms', this)">Classrooms</button>
                <button class="sort-button" onclick="sortByTag('Campus Aesthetics', this)">Campus</button>
                <button class="sort-button" onclick="sortByTag('Mess', this)">Mess</button>
                <button class="sort-button" onclick="sortByTag('Counselling', this)">Counselling</button>
                <button class="sort-button" onclick="sortByTag('128', this)">Sector 128 Campus</button>
            </div>
        </div>
        <div class="gallery" id="gallery">
            <div class="no-images">
                <p>No images yet. Add your first Discord CDN image above!</p>
            </div>
        </div>
    </div>

    <div id="imageModal" class="modal">
        <span class="modal-close" onclick="closeModal()">&times;</span>
        <span class="modal-nav prev" onclick="prevImage()">&#8249;</span>
        <span class="modal-nav next" onclick="nextImage()">&#8250;</span>
        <div class="modal-counter" id="modalCounter"></div>
        <div class="modal-content">
            <div class="loading-spinner" id="loadingSpinner"></div>
            <img id="modalImg" src="" alt="" style="display: none;" onload="hideSpinner()" onerror="showError()">
        </div>
        <div class="modal-info" id="modalInfo">
            <div class="modal-tag" id="modalTag"></div>
            <div class="modal-description" id="modalDescription"></div>
        </div>
    </div>

    <script>
        let images = [
            {
                id: 1,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079336891519026/AC9h4noX0xEz3RkeU3aQCfz6WrctVhzLRpNyATQ2MRASBzLAix7fxDyURSXpLrs72etompKCwfeV7RykzqDCyLGcWJjvrxhJvHByoMgQkHHtYDmjv1XTIv7gk1kdVJXIeQO9U63gFZWps1360-w1360-h1020-rw.png?ex=683eef37&is=683d9db7&hm=39e45a778abf20f270ca8803e2c028c53444d9c1591cbd3246fb5065bd4e7309&=&format=webp&quality=lossless&width=1066&height=800',
                tag: 'Campus',
                description: 'Campus Aesthetics'
            },
            {
                id: 2,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079337302691981/AC9h4nprsTXH14BSkfjR5SlRzMdVJFdEzJeukrW3MGUePsAZgqDZjXZtg9weyrtov8ybTQymnKz9512P-M2yp8D52jLKMO_dCHFsyBv7OnBgyXfsAevhJgS8_GjFgZzXtPNV-BbjIlYks1360-w1360-h1020-rw.png?ex=683eef38&is=683d9db8&hm=5c465daf078832dbea9aa4047c526c6ad9baa842fa31d5bae5e92f3d142d3e73&=&format=webp&quality=lossless&width=450&height=800',
                tag: 'Entrances',
                description: 'GATE 1'
            },
            {
                id: 3,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079337680175154/AC9h4nq5iv9FiscbKWWru63N15fEbbpclDbQCWVvcxh8UEBrvoND_wJRUmk1oY3-umszq50t5OASnz8Uof4vZCZGYTYHCRf9zLLw8TMfFBT3Hj8U99c-nP95P0F0X4LnppGlTEgoc4HLs1360-w1360-h1020-rw.png?ex=683eef38&is=683d9db8&hm=f637ead87cafb1707d837c1decc90eaadaa3d263338fafad0460d11a052f6150&=&format=webp&quality=lossless&width=1066&height=800',
                tag: 'Classrooms',
                description: 'Lecture Theatre'
            },
            {
                id: 4,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079338187821239/AC9h4nopIonfC2G4PfIGcWVTfS1Sn8TJJXN66TGeRv6HMtzhUYZ4O1VPEN9RkWA3hjrLVU2w3LSt90gcOr-Hmg1Vxly1fkt_3_RjG-lRFnd4j9yoeR2I6HVIWhH6SGjHpx1lWTmWCY-2s1360-w1360-h1020-rw.png?ex=683eef38&is=683d9db8&hm=ad5e84bd3e2c5a9f97ce565412ae4c0d0dd021ac2eed3dbd3dae13fc09520968&=&format=webp&quality=lossless&width=1066&height=800',
                tag: 'Campus',
                description: 'Open Air Theatre'
            },
            {
                id: 5,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079338628219052/AC9h4nqwPJn3cWM-iCoMR9-UQgkrT1okNIJz37mlJG_PhCzhxn5SkpnX-UUjll183DNlHr84AAWhRxJA1H3zRx5KjL9D-oVneP-GzGvxBgrWwd0DBlJLvyraSu8UFcHSvYgabTog7AfsQAs1360-w1360-h1020-rw.png?ex=683eef38&is=683d9db8&hm=1a411f0ebaea415fe7e68dcd61962c366472d5fe63cca52607a4e5b464dbc2bd&=&format=webp&quality=lossless&width=601&height=800',
                tag: 'Campus',
                description: 'Library(LRC)'
            },
            {
                id: 6,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079339114627152/AC9h4nrCc7K1BV7BNdLzVWKwQ7UfCYW9CTUSdQKqgz7o_2XpaKwtnLzIb7U1hnmKcPJf-potMjPiF6-OZGHviiqI0ukC6J48J8MqKVj2TVdql5vECY7Ljr5whIzc-xHyL0cV0F8iS3Ys1360-w1360-h1020-rw.png?ex=683eef38&is=683d9db8&hm=d0f969e808d18326afa44ca69fbd02b7b4711e86270f4f124c9c41e47521e0a2&=&format=webp&quality=lossless&width=1066&height=800',
                tag: 'Entrances',
                description: 'Metro Station Outside Gate 3'
            },
            {
                id: 7,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079339672604702/AC9h4npDwThPxgQeLNlzzhe8z0XJFNK64TLmXzh1OS5XBeuzqxp5FBNgyVUqjfFaT83wVL1H5e24zSOv_h_UP7o_FB0xXA46X6HzZbPRU1riFBaYxddFQGvKFuNXZ0xnwV6nX3PT96W6s1360-w1360-h1020-rw.png?ex=683eef38&is=683d9db8&hm=6baa55b58aa9e97ec623da0d9985a39990d8f50dc017942e4dce85a95cb6b42f&=&format=webp&quality=lossless&width=619&height=800',
                tag: 'Campus',
                description: 'Campus Aesthetics'
            },
            {
                id: 9,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079340217729067/AC9h4nqgaj0DySXQ72jygeao-LALGMMQaw1iGHOoy6N18UPg9yzmiMIGbKKb_TdKZuoV4jUa0AeV-aTIRlphpqmfh-8bcy-3ROceanvCMZq2qQ0IyazQwkh4OdKXjs-FNtAq_RBp0GU1s1360-w1360-h1020-rw.png?ex=683eef38&is=683d9db8&hm=a02c3755197e859e394ab70e4f38d8d757d273491e7015b271c9322a4a0acbed&=&format=webp&quality=lossless&width=1200&height=800',
                tag: 'Campus',
                description: 'Auditorium'
            },
            {
                id: 10,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079336891519026/AC9h4noX0xEz3RkeU3aQCfz6WrctVhzLRpNyATQ2MRASBzLAix7fxDyURSXpLrs72etompKCwfeV7RykzqDCyLGcWJjvrxhJvHByoMgQkHHtYDmjv1XTIv7gk1kdVJXIeQO9U63gFZWps1360-w1360-h1020-rw.png?ex=683eef37&is=683d9db7&hm=39e45a778abf20f270ca8803e2c028c53444d9c1591cbd3246fb5065bd4e7309&=&format=webp&quality=lossless&width=1066&height=800',
                tag: 'Campus',
                description: 'Campus Aesthetics'
            },
            {
                id: 11,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079475488362566/AC9h4nr5e-id6CUkFV69Z8ug73OR_Co7oYKFTzY8OGNr504dxuRe50zfdv3ADLy8aTKPpDGPgCbb5ifHAEOQ8EfYL0dWjBeYvj5GvUVqyt0LYkzKWQAKBiK9SoLhhV7ZfpNW0390571A_gs1360-w1360-h1020-rw.png?ex=683eef59&is=683d9dd9&hm=40da25d43a439a5f0c2a50e7de047fe0f9d47245c7df64766a0de6baa99ee0a9&=&format=webp&quality=lossless&width=1066&height=800',
                tag: 'Food',
                description: 'Mess'
            },
            {
                id: 12,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079475844612096/AC9h4nq5OFqRGeT0BkUuK0DYoAKznSAEalJ4oAuEJ5_nn_R4gNCF1V1nhIy6fcPr5o3b9NIDaxqc9XdmL5Rcedzd6EY_5xHTA60iM7_AtJA_KjQ_MszJi1qB-R3vyTucoMzPGsLSQsNos1360-w1360-h1020-rw.png?ex=683eef59&is=683d9dd9&hm=e895346ca884f195abe10283cbeb90c5f248431d2e824534350d69b4e3a853b7&=&format=webp&quality=lossless&width=600&height=800',
                tag: 'Food',
                description: 'Mess'
            },
            {
                id: 13,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079476243337376/AC9h4np1pGujyRupBS-j0WU0rGaZ2CtMbXyAv8zQcMPujz_UTNF9RGnm3mXY0W-IGlji_OVuhw0J9fpnrFsmalaZzlEaRoq0nER92efm-lHHpT7eaxZ_w9rgBjzkqbp8LXsP6d-ZKmYs1360-w1360-h1020-rw.png?ex=683eef59&is=683d9dd9&hm=1d3d6374cb59b5be320d9b1dc354cfdbdefa2e60947c7bfba2563b46ff42d6cb&=&format=webp&quality=lossless&width=1423&height=800',
                tag: 'Campus',
                description: 'Open Air Theatre and ABB-1(academic block)'
            },
            {
                id: 14,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079476830277786/AC9h4noqMQHddBxjNUBm7gqUyOHhJbsEyLgajLc7vmqkvx6-XZMFHRcNBjsMM_6SAmYop7KPOV9U8VXcKp1q1hY1HjRt9U78Elp5h4pXjfuIujzw6hi6RjRO-Tv7IBsdG6Yl2xGjDF1js1360-w1360-h1020-rw.png?ex=683eef59&is=683d9dd9&hm=ac91e75fcaa7c46570cbbbfd9f38c9c533a809578a4854f8eebe1c0c52ced292&=&format=webp&quality=lossless&width=1066&height=800',
                tag: 'Classrooms',
                description: 'Classrooms'
            },
            {
                id: 15,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079477522599966/AC9h4nryIWhmW_SHOfWPxJzHyXgyqp0m1pWu7mQW3VARb7IK1DGp-dckhSaBKTCt56hA9O7rfOooo3qkIEz3MDun2sNZmgreI6me9GB4aiVV5CCh6E2bFSZ8D9J5YLoxA84gZa5IFZJ67Qs1360-w1360-h1020-rw.png?ex=683eef59&is=683d9dd9&hm=f85b09e9e429768091dad8c89d3f923fa968186adc513cbdf5d452e5bf1b8d5f&=&format=webp&quality=lossless&width=1066&height=800',
                tag: 'Classrooms',
                description: 'Classrooms'
            },
            {
                id: 16,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079640446140508/AC9h4nqFAhZ7r7bldG1F2WQeKkCJH8g0FGkhYNaWWKr4KgN0_v3pH250ALQvolB3bTp42cZUnGSF9WzGdGCmbI2AmIhRt5OKnmwqdVDYmKw4EJYjRMb0iFEvyeCxPWX3xctgU49nRluNs1360-w1360-h1020-rw.png?ex=683eef80&is=683d9e00&hm=16d789801b7f142b75434326825d6ebaa57bfdb88b48ab89c2313bf07bca4abd&=&format=webp&quality=lossless&width=1066&height=800',
                tag: 'Classrooms',
                description: 'Microprocessor Lab'
            },
            {
                id: 17,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079477941895209/AC9h4npHDU0eq4Uf7mAIvK_kV40BLG_sBYvbI5LRz-p51L-wsDIeEZ5wPS-GKLrMq3X3pt9pTf10VbPf28RfPposRnq6Co4yM_fbAcsB9HnSspF6sZXtr9GelSrCMNDUEWJkIbjIlnVGlkT3DqLDs1360-w1360-h1020-rw.png?ex=683eef59&is=683d9dd9&hm=8ff31a9f0354baaaa1e607cad6ebef98e1e5a27666cb8a77c1f0748ee00ddf9c&=&format=webp&quality=lossless&width=450&height=800',
                tag: 'Campus',
                description: 'Campus Aesthetics'
            },
            {
                id: 18,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079640898994226/AC9h4nqANbaLw_vFbZnMr22khpXF8enBWFk57LAEzHrrz0HZZY5ueP7_NaZN7Y6Sn5oO0ABOhr2YbcoNGeOvZ-rv5vZFGasJyQhn_Retz8ofl2J-g_poV1W1y8vGWqV5AaFY2IjOK4nYYAs1360-w1360-h1020-rw.png?ex=683eef80&is=683d9e00&hm=8083eeb5ff979c4c28eef5930600ecdea334a4d2b5268d3bdc7683e12ca55501&=&format=webp&quality=lossless&width=600&height=800',
                tag: 'Campus',
                description: 'Library(LRC)'
            },
            {
                id: 19,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079641322749952/AC9h4nr6_qbHL2ee14rWogylrMDALCvV3GOr3H4UYz0RVcMtftNQEzWbhKG_FhU8NcqbJOB_55J3xrT4N3Uswhb6qSW-QPNSs1572Y_9xmUigyxrpHT4L_3ucMkT8hGyasMb4xK7xIo0xAs1360-w1360-h1020-rw.png?ex=683eef80&is=683d9e00&hm=9a1cfa444fef9fe5d25f029235ff25c7ff7871f3b329276cf6ae4186ed39df5e&=&format=webp&quality=lossless&width=600&height=800',
                tag: 'Food',
                description: 'Cafeteria'
            },
            {
                id: 20,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079641779933264/AC9h4nqoh94qp-xp4Lg2fXefJVdD46RmJE3rC2uI1biXfv7DFP9BuFphcpWirHRV5XpO8De8ReYXBwe-02bn75u09RZoYzU2YFDKY8W0MMtuQAG3Z4efUz5T2FAeTCbfxViAX-v9x57XJgs1360-w1360-h1020-rw.png?ex=683eef80&is=683d9e00&hm=7247b75022af73d684dac2f24f55cd62d0089a251fad950df42a1c6e17cbc0ad&=&format=webp&quality=lossless&width=601&height=800',
                tag: 'Classrooms',
                description: 'Classrooms'
            },
            {
                id: 21,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079642702544956/AC9h4npcmjGcXBMSTXSwEmBmEJ4if3lrD2cMRrmlK5uNhP0sClqZ0yh8aaM9JkimHH_OGI89bWK7Xk-2ir341WBUUkKUpXbpx03Pq29Re9WHJb8foS8cW0Vow28Cuel0H5rguC0rn5MqdQs1360-w1360-h1020-rw.png?ex=683eef80&is=683d9e00&hm=4bf5ba641926b6fde99f016a416802c36e395e91ab2215bb5843af7ba9e53955&=&format=webp&quality=lossless&width=1200&height=800',
                tag: 'Campus',
                description: 'Auditorium'
            },
            {
                id: 22,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079643218313296/AC9h4nrIMazwpnZ1C4N49swRt6OYvnpW6uQCp7x6U6Ay5qRuddmLcY8dSFWF9zbHgOQJ2Xe9ky9WRqo5YDPm5Qt_Dc0K3n80jOVmBWq2exxPOzpDB0spvsJL0HaPzCnSIRGzhLjjsb_zs1360-w1360-h1020-rw.png?ex=683eef81&is=683d9e01&hm=a5e61985f114467f55a0bf778b15e4f397558fb5274170ebd172421210d0ad9a&=&format=webp&quality=lossless&width=1066&height=800',
                tag: 'Campus',
                description: 'Basketball Court'
            },
            {
                id: 23,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079643814035517/AC9h4nqa2z0qhWEJLlZ8-Nb9iSd20cTokzIis7d13p69ObjFItiMyhxgoMZgvUjvBH_3ZSCzbxEhCcJ6UddmSKypAnWGcvIm1tt2VtoivUzmoKbwXCXoTpOFoPteED_JOiqTeOGDFChY4Qs1360-w1360-h1020-rw.png?ex=683eef81&is=683d9e01&hm=09ac58afa1dd6224e420c3eaaf71a560a886bc49f7c82542e20b5f4e5551aa8e&=&format=webp&quality=lossless&width=1423&height=800',
                tag: 'Counselling',
                description: 'Counselling'
            },
            {
                id: 24,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079644241989774/AC9h4nqwoMg-QjAKnEv7tNgAoFhAnNfOaiD9Q-PldqMjqWcpULAnTGIrrndDF09kYdqau-pJhfu979988-bWbM_z2MIMQZzlxrYhHavZ3ACZgdxaQd_2Ws_qvPvdS1sJSnwgbYRbaOvFigs1360-w1360-h1020-rw.png?ex=683eef81&is=683d9e01&hm=8ebc3dbd6299eaab08d1c90844c243401a17cb989c057719a9b98651ea98f460&=&format=webp&quality=lossless&width=1423&height=800',
                tag: 'Counselling',
                description: 'Counselling'
            },
            {
                id: 25,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079644694970478/AC9h4nooKKokRWLiGBnq89ov_bVJTIfPaQcxqiAlfTbDgk_pEgp1Ah-AG0FBH7mg1DBs6KjRi3xIeNLjDlZ_9b8V4bS1YX0XDnd0eNpFUlPhPu6piwJRV0Lu8pG_YeRjp4JPHr9yK43zNAs1360-w1360-h1020-rw.png?ex=683eef81&is=683d9e01&hm=38930fe7633e8b194442f94e0a1e285c6ec0c5392231de03ab46aa08fe3af93d&=&format=webp&quality=lossless&width=1423&height=800',
                tag: 'Counselling',
                description: 'Counselling'
            },
            {
                id: 26,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379079645261070477/AC9h4nrU265xP_OaIReqXG2lpPdzfeLbL0I14f9v4SMX-646O_LRT0SqtT19P1oGB--8E6Fpd72HQ_Yufdip8Fos3BRUu0CdhG2MvQBvN0oSn5pB9yYE_Qc-ERa9VYy37TWmQT25EBgs1360-w1360-h1020-rw.png?ex=683eef81&is=683d9e01&hm=dc0c7f84c35d95048bf8249d59c414a6b9a625171f8bdd1e59681b447dbbd112&=&format=webp&quality=lossless&width=1423&height=800',
                tag: 'Counselling',
                description: 'Counselling'
            },
            {
                id: 27,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379133399213543524/WhatsApp_Image_2025-06-02_at_20.15.23_1a76e942.jpg?ex=683f2191&is=683dd011&hm=bb4359b5f8b29a0acc64e702b2390cb68130f3d6999cf7d1a90c51330fff879c&=&format=webp&width=450&height=800',
                tag: '128',
                description: 'Sector 128'
            },
            {
                id: 28,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379133399771643955/WhatsApp_Image_2025-06-02_at_20.15.23_1d7341a0.jpg?ex=683f2191&is=683dd011&hm=5f016b9280ce0171ddd51a1ca138fa7065ad4d26f38a354a97651b966a8cf0d2&=&format=webp&width=450&height=800',
                tag: '128',
                description: 'Sector 128'
            },
            {
                id: 29,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379133400316641392/WhatsApp_Image_2025-06-02_at_20.15.24_a80066d5.jpg?ex=683f2191&is=683dd011&hm=53cb32db008a5860fccbba82b08d7935d6ae4f5a1ef3cc349928a182cde8f2b6&=&format=webp&width=600&height=800',
                tag: '128',
                description: 'Sector 128'
            },
            {
                id: 30,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379133400753115136/WhatsApp_Image_2025-06-02_at_20.15.25_2efcb1c9.jpg?ex=683f2191&is=683dd011&hm=ebd9f0d5b81dbfcac37e2806125c99f594ce0b50f3eb1f567c640175bed2a8fd&=&format=webp&width=450&height=800',
                tag: '128',
                description: 'Sector 128'
            },
            {
                id: 31,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379133401235329197/WhatsApp_Image_2025-06-02_at_20.15.26_41856a33.jpg?ex=683f2191&is=683dd011&hm=a763719747d6cf449c55b51c657316cbe148ff232f69a2b359c26ef35aee0890&=&format=webp&width=600&height=800',
                tag: '128',
                description: 'Sector 128'
            },
            {
                id: 32,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379133402258739303/WhatsApp_Image_2025-06-02_at_20.15.31_ee91bc73.jpg?ex=683f2192&is=683dd012&hm=8ab41729de2ebac7a375a9867f502e31065710aa2138729723faba2f96f7a760&=&format=webp&width=600&height=800',
                tag: '128',
                description: 'Sector 128'
            },
            {
                id: 33,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379136169232568533/AC9h4nqbR0LCM5Zl_jBgwi6JFCNGuINoLtFWzTAWdNsXSUf7YjF7K5PRr5gnAJjgeP1ot9y6hjDSSrja3yPZXa0g1pbFGQwirrj2d6_9IfewkG14gParAnklnVcfXFVPhdtOeN22pP4s1360-w1360-h1020-rw.png?ex=683f2425&is=683dd2a5&hm=3da55c4826fb4f472542fe53964b3b3a703c92d10fe5c30713b2169946e3e69b&=&format=webp&quality=lossless&width=940&height=705',
                tag: '128',
                description: 'Sector 128'
            },
            {
                id: 34,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379137529634226246/AC9h4no-rHAt6w-9bAeJ_4WH27L7zJxf_gjPAHpgPIGuuuBXtbjS53UNYGzXVD6saYg1GaghRfoDyj7qpevj_OhlbNzpZmi-PLAqxBcVJDsiGPb-OylKGHo8CyQH5lEJta33h_EQOXtls1360-w1360-h1020-rw.png?ex=683f256a&is=683dd3ea&hm=2919118a0727a3d9786da09b3104708105d9060d6f4149c15bab64bf9fd97d7d&=&format=webp&quality=lossless&width=810&height=456',
                tag: '128',
                description: 'Sector 128'
            },
            {
                id: 35,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379137530133479594/AC9h4nqfdrw72KTSq0C64Nk6uBbWVq5Ikio2JHxnPI9EZ0ws4tuXz5emhA7E88Xw9A-Mvh1_jyBckEM3RNZRST5CaiAyj1FsMj0BbGezfKRF9cthbjPniPoF0GVAd-cM0jB7P5fm40BDs1360-w1360-h1020-rw.png?ex=683f256a&is=683dd3ea&hm=adf6756626aa3b89d2c205b9825195d9390249a567c463e1646a4f9d16dde87e&=&format=webp&quality=lossless&width=810&height=608',
                tag: '128',
                description: 'Sector 128'
            },
            {
                id: 36,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379137530863157380/WhatsApp_Image_2025-06-02_at_22.04.47_b34f6536.jpg?ex=683f256a&is=683dd3ea&hm=d92deb6ca3208ffbb44e61d5eaf512cca98bc558265fe9b2d0167f56e51a53b8&=&format=webp&width=600&height=800',
                tag: '128',
                description: 'Sector 128'
            },
            {
                id: 37,
                url: 'https://media.discordapp.net/attachments/1378805405395718214/1379137531391774761/WhatsApp_Image_2025-06-02_at_22.04.47_687e6eb9.jpg?ex=683f256a&is=683dd3ea&hm=cdc109a27a0734a1007fad2988f2db69e3e82a9a7b01ab6140a85c9def0d4438&=&format=webp&width=600&height=800',
                tag: '128',
                description: 'Sector 128'
            }
        ];

        let currentFilter = 'all';

        function sortByTag(tag, clickedButton) {
            currentFilter = tag;
            document.querySelectorAll('.sort-button').forEach(btn => {
                btn.classList.remove('active');
            });
            clickedButton.classList.add('active');
            renderGallery();
        }

        function renderGallery() {
            const gallery = document.getElementById('gallery');
            let filteredImages = images;
            if (currentFilter !== 'all') {
                filteredImages = images.filter(image => {
                    const desc = image.description || '';
                    const tagLower = (image.tag || '').toLowerCase();
                    const descLower = desc.toLowerCase();
                    const filterLower = currentFilter.toLowerCase();

                    switch (filterLower) {
                        case 'cafeteria':
                            return descLower.includes('cafeteria');
                        case 'library(lrc)':
                            return descLower.includes('library');
                        case 'classrooms':
                            return descLower.includes('classroom') ||
                                   descLower.includes('lecture theatre') ||
                                   descLower.includes('lab');
                        case 'campus aesthetics':
                            return (tagLower === 'campus') ||
                                   (descLower.includes('campus') ||
                                    descLower.includes('auditorium') ||
                                    descLower.includes('basketball') ||
                                    descLower.includes('open air'));
                        case 'mess':
                            return descLower.includes('mess');
                        case 'counselling':
                            return descLower.includes('counselling');
                        default:
                            return tagLower.includes(filterLower) ||
                                   descLower.includes(filterLower);
                    }
                });
            }

            if (filteredImages.length === 0) {
                gallery.innerHTML = `
                    <div class="no-images">
                        <p>No images found for “${currentFilter}”.</p>
                    </div>
                `;
                return;
            }

            gallery.innerHTML = filteredImages.map((image) => {
                const originalIndex = images.findIndex(img => img.id === image.id);
                return `
                    <div class="image-card">
                        <div class="image-container" onclick="openModal(${originalIndex})">
                            <img src="${image.url}" alt="${image.tag || 'Image'}" loading="lazy">
                            ${image.tag ? `<div class="image-tag">${image.tag}</div>` : ''}
                        </div>
                        <div class="image-description">${image.description || 'No description'}</div>
                    </div>
                `;
            }).join('');
        }

        let currentImageIndex = 0;

        function openModal(index) {
            currentImageIndex = index;
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImg');
            const modalTag = document.getElementById('modalTag');
            const modalDescription = document.getElementById('modalDescription');
            const modalCounter = document.getElementById('modalCounter');
            const loadingSpinner = document.getElementById('loadingSpinner');

            modal.classList.add('show');
            loadingSpinner.style.display = 'block';
            modalImg.style.display = 'none';

            const image = images[index];
            modalImg.src = image.url;
            modalImg.alt = image.tag || 'Image';
            modalTag.textContent = image.tag || 'Untagged';
            modalDescription.textContent = image.description || 'No description';
            modalCounter.textContent = `${index + 1} / ${images.length}`;

            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('imageModal');
            modal.classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % images.length;
            updateModalImage();
        }

        function prevImage() {
            currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
            updateModalImage();
        }

        function updateModalImage() {
            const modalImg = document.getElementById('modalImg');
            const modalTag = document.getElementById('modalTag');
            const modalDescription = document.getElementById('modalDescription');
            const modalCounter = document.getElementById('modalCounter');
            const loadingSpinner = document.getElementById('loadingSpinner');

            loadingSpinner.style.display = 'block';
            modalImg.style.display = 'none';

            const image = images[currentImageIndex];
            modalImg.src = image.url;
            modalImg.alt = image.tag || 'Image';
            modalTag.textContent = image.tag || 'Untagged';
            modalDescription.textContent = image.description || 'No description';
            modalCounter.textContent = `${currentImageIndex + 1} / ${images.length}`;
        }

        function hideSpinner() {
            document.getElementById('loadingSpinner').style.display = 'none';
            document.getElementById('modalImg').style.display = 'block';
        }

        function showError() {
            const loadingSpinner = document.getElementById('loadingSpinner');
            const modalImg = document.getElementById('modalImg');
            loadingSpinner.style.display = 'none';
            modalImg.style.display = 'block';
            modalImg.alt = 'Failed to load image';
        }

        document.addEventListener('keydown', function(e) {
            const modal = document.getElementById('imageModal');
            if (modal.classList.contains('show')) {
                if (e.key === 'Escape') closeModal();
                if (e.key === 'ArrowLeft') prevImage();
                if (e.key === 'ArrowRight') nextImage();
            }
        });

        document.getElementById('imageModal').addEventListener('click', function(e) {
            if (e.target === this) closeModal();
        });

        let touchStartX = 0, touchEndX = 0;
        document.getElementById('imageModal').addEventListener('touchstart', function(e) {
            touchStartX = e.changedTouches[0].screenX;
        }, false);
        document.getElementById('imageModal').addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            const diff = touchStartX - touchEndX;
            if (Math.abs(diff) > 50) {
                if (diff > 0) nextImage();
                else prevImage();
            }
        }, false);

        document.addEventListener('DOMContentLoaded', renderGallery);
    </script>
</body>
</html>
